{"ast":null,"code":"import { databaseFirebase } from './firebase'; // --------------------------------------------------------------------------------------------------------------------\n\nexport const dataFetchFirebase = () => {\n  return new Promise((resolve, reject) => {\n    databaseFirebase.once('value', snapshot => {\n      const todo = snapshot.val();\n      const todoList = [];\n\n      for (let id in todo) {\n        todoList.push({\n          id,\n          ...todo[id]\n        });\n      }\n\n      resolve(todoList);\n    });\n  });\n}; // --------------------------------------------------------------------------------------------------------------------\n\nexport const addItemFirebase = payload => {\n  return databaseFirebase.push(payload).then(data => ({\n    id: data.getKey(),\n    ...payload\n  })).catch(error => alert(error));\n}; // --------------------------------------------------------------------------------------------------------------------\n\nexport const deleteItemFirebase = id => {\n  const todoRef = databaseFirebase.child(id);\n  return todoRef.remove().then(() => id).catch(error => alert(error));\n}; // --------------------------------------------------------------------------------------------------------------------\n\nexport const updateItemFirebase = payload => {\n  const ref = databaseFirebase.child(payload.id);\n  return ref.update(payload).then(() => ({\n    id: payload.id,\n    ...payload\n  })).catch(error => alert(error));\n};","map":{"version":3,"sources":["/Users/denysbondarchuk/Documents/home/front-end/CRUD/firebase-react-redux-crud/src/services/CRUD.js"],"names":["databaseFirebase","dataFetchFirebase","Promise","resolve","reject","once","snapshot","todo","val","todoList","id","push","addItemFirebase","payload","then","data","getKey","catch","error","alert","deleteItemFirebase","todoRef","child","remove","updateItemFirebase","ref","update"],"mappings":"AAAA,SAASA,gBAAT,QAAiC,YAAjC,C,CAEA;;AAEA,OAAO,MAAMC,iBAAiB,GAAG,MAAM;AACrC,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCJ,IAAAA,gBAAgB,CAACK,IAAjB,CAAsB,OAAtB,EAAgCC,QAAD,IAAc;AAC3C,YAAMC,IAAI,GAAGD,QAAQ,CAACE,GAAT,EAAb;AACA,YAAMC,QAAQ,GAAG,EAAjB;;AACA,WAAK,IAAIC,EAAT,IAAeH,IAAf,EAAqB;AACnBE,QAAAA,QAAQ,CAACE,IAAT,CAAc;AAAED,UAAAA,EAAF;AAAM,aAAGH,IAAI,CAACG,EAAD;AAAb,SAAd;AACD;;AACDP,MAAAA,OAAO,CAACM,QAAD,CAAP;AACD,KAPD;AAQD,GATM,CAAP;AAUD,CAXM,C,CAaP;;AAEA,OAAO,MAAMG,eAAe,GAAIC,OAAD,IAAa;AAC1C,SAAOb,gBAAgB,CAACW,IAAjB,CAAsBE,OAAtB,EACJC,IADI,CACCC,IAAI,KAAK;AAAEL,IAAAA,EAAE,EAAEK,IAAI,CAACC,MAAL,EAAN;AAAqB,OAAGH;AAAxB,GAAL,CADL,EAEJI,KAFI,CAEEC,KAAK,IAAIC,KAAK,CAACD,KAAD,CAFhB,CAAP;AAGD,CAJM,C,CAMP;;AAEA,OAAO,MAAME,kBAAkB,GAAIV,EAAD,IAAQ;AACxC,QAAMW,OAAO,GAAGrB,gBAAgB,CAACsB,KAAjB,CAAuBZ,EAAvB,CAAhB;AAEA,SAAOW,OAAO,CAACE,MAAR,GACJT,IADI,CACC,MAAMJ,EADP,EAEJO,KAFI,CAEEC,KAAK,IAAIC,KAAK,CAACD,KAAD,CAFhB,CAAP;AAGD,CANM,C,CAQP;;AAEA,OAAO,MAAMM,kBAAkB,GAAIX,OAAD,IAAa;AAC7C,QAAMY,GAAG,GAAGzB,gBAAgB,CAACsB,KAAjB,CAAuBT,OAAO,CAACH,EAA/B,CAAZ;AAEA,SAAOe,GAAG,CAACC,MAAJ,CAAWb,OAAX,EACJC,IADI,CACC,OAAO;AAACJ,IAAAA,EAAE,EAAEG,OAAO,CAACH,EAAb;AAAiB,OAAGG;AAApB,GAAP,CADD,EAEJI,KAFI,CAEEC,KAAK,IAAIC,KAAK,CAACD,KAAD,CAFhB,CAAP;AAGD,CANM","sourcesContent":["import { databaseFirebase } from './firebase';\n\n// --------------------------------------------------------------------------------------------------------------------\n\nexport const dataFetchFirebase = () => {\n  return new Promise((resolve, reject) => {\n    databaseFirebase.once('value', (snapshot) => {\n      const todo = snapshot.val();\n      const todoList = [];\n      for (let id in todo) {\n        todoList.push({ id, ...todo[id] });\n      }\n      resolve(todoList);\n    });\n  });\n};\n\n// --------------------------------------------------------------------------------------------------------------------\n\nexport const addItemFirebase = (payload) => {\n  return databaseFirebase.push(payload)\n    .then(data => ({ id: data.getKey(), ...payload }))\n    .catch(error => alert(error));\n};\n\n// --------------------------------------------------------------------------------------------------------------------\n\nexport const deleteItemFirebase = (id) => {\n  const todoRef = databaseFirebase.child(id);\n\n  return todoRef.remove()\n    .then(() => id)\n    .catch(error => alert(error));\n};\n\n// --------------------------------------------------------------------------------------------------------------------\n\nexport const updateItemFirebase = (payload) => {\n  const ref = databaseFirebase.child(payload.id);\n\n  return ref.update(payload)\n    .then(() => ({id: payload.id, ...payload}))\n    .catch(error => alert(error));\n};\n\n\n\n"]},"metadata":{},"sourceType":"module"}