{"ast":null,"code":"import { call, put, takeEvery, takeLatest } from 'redux-saga/effects';\nimport { dataRequested, dataRequestedSuccess, dataRequestedError, addItemSuccess, deleteItemSuccess, editItem, editItemClear, updateItemSuccess } from '../actions';\nimport { addItemFirebase, dataFetchFirebase, deleteItemFirebase, updateItemFirebase } from '../../services/CRUD';\nimport { toggleModal } from '../actions/modalActions'; // --------------------------------------------------------------------------------------------------------------------\n\nfunction* dataFetch() {\n  try {\n    yield put(dataRequested());\n    const data = yield call(dataFetchFirebase);\n    yield put(dataRequestedSuccess(data));\n  } catch (error) {\n    yield put(dataRequestedError());\n  }\n}\n\nexport function* watchDataFetch() {\n  yield takeEvery('DATA_FETCH', dataFetch);\n} // --------------------------------------------------------------------------------------------------------------------\n\nfunction* itemAdd({\n  payload\n}) {\n  const data = yield call(addItemFirebase, payload);\n  yield put(addItemSuccess(data));\n  yield put(toggleModal());\n}\n\nexport function* watchItemAdd() {\n  yield takeLatest('ADD_ITEM', itemAdd);\n} // --------------------------------------------------------------------------------------------------------------------\n\nfunction* itemEdit({\n  payload\n}) {\n  yield put(editItem(payload));\n  yield put(toggleModal());\n}\n\nexport function* watchItemEdit() {\n  yield takeLatest('EDIT_ITEM_START', itemEdit);\n} // --------------------------------------------------------------------------------------------------------------------\n\nfunction* itemDelete({\n  payload\n}) {\n  const id = yield call(deleteItemFirebase, payload);\n  yield put(deleteItemSuccess(id));\n}\n\nexport function* watchItemDelete() {\n  yield takeLatest('DELETE_ITEM', itemDelete);\n} // --------------------------------------------------------------------------------------------------------------------\n\nfunction* itemUpdate({\n  payload\n}) {\n  const data = yield call(updateItemFirebase, payload);\n  yield put(updateItemSuccess(data));\n  yield put(editItemClear());\n  yield put(toggleModal());\n}\n\nexport function* watchItemUpdate() {\n  yield takeLatest('UPDATE_ITEM', itemUpdate);\n} // --------------------------------------------------------------------------------------------------------------------\n\nfunction* itemCreate() {\n  yield put(editItemClear());\n  yield put(toggleModal());\n}\n\nexport function* watchItemCreate() {\n  yield takeLatest('ITEM_CREATE', itemCreate);\n} // --------------------------------------------------------------------------------------------------------------------","map":{"version":3,"sources":["/Users/denysbondarchuk/Documents/home/front-end/CRUD/firebase-react-redux-crud/src/store/sagas/dataSaga.js"],"names":["call","put","takeEvery","takeLatest","dataRequested","dataRequestedSuccess","dataRequestedError","addItemSuccess","deleteItemSuccess","editItem","editItemClear","updateItemSuccess","addItemFirebase","dataFetchFirebase","deleteItemFirebase","updateItemFirebase","toggleModal","dataFetch","data","error","watchDataFetch","itemAdd","payload","watchItemAdd","itemEdit","watchItemEdit","itemDelete","id","watchItemDelete","itemUpdate","watchItemUpdate","itemCreate","watchItemCreate"],"mappings":"AAAA,SAASA,IAAT,EAAeC,GAAf,EAAoBC,SAApB,EAA+BC,UAA/B,QAAiD,oBAAjD;AAEA,SACEC,aADF,EAEEC,oBAFF,EAGEC,kBAHF,EAIEC,cAJF,EAKEC,iBALF,EAMEC,QANF,EAOEC,aAPF,EAQEC,iBARF,QASO,YATP;AAUA,SAASC,eAAT,EAA0BC,iBAA1B,EAA6CC,kBAA7C,EAAiEC,kBAAjE,QAA2F,qBAA3F;AACA,SAASC,WAAT,QAA4B,yBAA5B,C,CAEA;;AAEA,UAAUC,SAAV,GAAsB;AACpB,MAAI;AACF,UAAMhB,GAAG,CAACG,aAAa,EAAd,CAAT;AACA,UAAMc,IAAI,GAAG,MAAMlB,IAAI,CAACa,iBAAD,CAAvB;AACA,UAAMZ,GAAG,CAACI,oBAAoB,CAACa,IAAD,CAArB,CAAT;AACD,GAJD,CAIE,OAAOC,KAAP,EAAc;AACd,UAAMlB,GAAG,CAACK,kBAAkB,EAAnB,CAAT;AACD;AACF;;AAED,OAAO,UAAUc,cAAV,GAA2B;AAChC,QAAMlB,SAAS,CAAC,YAAD,EAAee,SAAf,CAAf;AACD,C,CAED;;AAEA,UAAUI,OAAV,CAAkB;AAAEC,EAAAA;AAAF,CAAlB,EAA+B;AAC7B,QAAMJ,IAAI,GAAG,MAAMlB,IAAI,CAACY,eAAD,EAAkBU,OAAlB,CAAvB;AACA,QAAMrB,GAAG,CAACM,cAAc,CAACW,IAAD,CAAf,CAAT;AACA,QAAMjB,GAAG,CAACe,WAAW,EAAZ,CAAT;AACD;;AAGD,OAAO,UAAUO,YAAV,GAAyB;AAC9B,QAAMpB,UAAU,CAAC,UAAD,EAAakB,OAAb,CAAhB;AACD,C,CAED;;AAEA,UAAUG,QAAV,CAAmB;AAAEF,EAAAA;AAAF,CAAnB,EAAgC;AAC9B,QAAMrB,GAAG,CAACQ,QAAQ,CAACa,OAAD,CAAT,CAAT;AAEA,QAAMrB,GAAG,CAACe,WAAW,EAAZ,CAAT;AACD;;AAED,OAAO,UAAUS,aAAV,GAA0B;AAC/B,QAAMtB,UAAU,CAAC,iBAAD,EAAoBqB,QAApB,CAAhB;AACD,C,CAED;;AAEA,UAAUE,UAAV,CAAqB;AAAEJ,EAAAA;AAAF,CAArB,EAAkC;AAChC,QAAMK,EAAE,GAAG,MAAM3B,IAAI,CAACc,kBAAD,EAAqBQ,OAArB,CAArB;AACA,QAAMrB,GAAG,CAACO,iBAAiB,CAACmB,EAAD,CAAlB,CAAT;AACD;;AAED,OAAO,UAAUC,eAAV,GAA4B;AACjC,QAAMzB,UAAU,CAAC,aAAD,EAAgBuB,UAAhB,CAAhB;AACD,C,CAED;;AAEA,UAAUG,UAAV,CAAqB;AAAEP,EAAAA;AAAF,CAArB,EAAkC;AAChC,QAAMJ,IAAI,GAAG,MAAMlB,IAAI,CAACe,kBAAD,EAAqBO,OAArB,CAAvB;AACA,QAAMrB,GAAG,CAACU,iBAAiB,CAACO,IAAD,CAAlB,CAAT;AACA,QAAMjB,GAAG,CAACS,aAAa,EAAd,CAAT;AACA,QAAMT,GAAG,CAACe,WAAW,EAAZ,CAAT;AACD;;AAED,OAAO,UAAUc,eAAV,GAA4B;AACjC,QAAM3B,UAAU,CAAC,aAAD,EAAgB0B,UAAhB,CAAhB;AACD,C,CAED;;AAGA,UAAUE,UAAV,GAAuB;AACrB,QAAM9B,GAAG,CAACS,aAAa,EAAd,CAAT;AACA,QAAMT,GAAG,CAACe,WAAW,EAAZ,CAAT;AACD;;AAED,OAAO,UAAUgB,eAAV,GAA4B;AACjC,QAAM7B,UAAU,CAAC,aAAD,EAAgB4B,UAAhB,CAAhB;AACD,C,CAED","sourcesContent":["import { call, put, takeEvery, takeLatest } from 'redux-saga/effects';\n\nimport {\n  dataRequested,\n  dataRequestedSuccess,\n  dataRequestedError,\n  addItemSuccess,\n  deleteItemSuccess,\n  editItem,\n  editItemClear,\n  updateItemSuccess,\n} from '../actions';\nimport { addItemFirebase, dataFetchFirebase, deleteItemFirebase, updateItemFirebase } from '../../services/CRUD';\nimport { toggleModal } from '../actions/modalActions';\n\n// --------------------------------------------------------------------------------------------------------------------\n\nfunction* dataFetch() {\n  try {\n    yield put(dataRequested());\n    const data = yield call(dataFetchFirebase);\n    yield put(dataRequestedSuccess(data));\n  } catch (error) {\n    yield put(dataRequestedError());\n  }\n}\n\nexport function* watchDataFetch() {\n  yield takeEvery('DATA_FETCH', dataFetch);\n}\n\n// --------------------------------------------------------------------------------------------------------------------\n\nfunction* itemAdd({ payload }) {\n  const data = yield call(addItemFirebase, payload);\n  yield put(addItemSuccess(data));\n  yield put(toggleModal());\n}\n\n\nexport function* watchItemAdd() {\n  yield takeLatest('ADD_ITEM', itemAdd);\n}\n\n// --------------------------------------------------------------------------------------------------------------------\n\nfunction* itemEdit({ payload }) {\n  yield put(editItem(payload));\n\n  yield put(toggleModal());\n}\n\nexport function* watchItemEdit() {\n  yield takeLatest('EDIT_ITEM_START', itemEdit);\n}\n\n// --------------------------------------------------------------------------------------------------------------------\n\nfunction* itemDelete({ payload }) {\n  const id = yield call(deleteItemFirebase, payload);\n  yield put(deleteItemSuccess(id));\n}\n\nexport function* watchItemDelete() {\n  yield takeLatest('DELETE_ITEM', itemDelete);\n}\n\n// --------------------------------------------------------------------------------------------------------------------\n\nfunction* itemUpdate({ payload }) {\n  const data = yield call(updateItemFirebase, payload);\n  yield put(updateItemSuccess(data));\n  yield put(editItemClear());\n  yield put(toggleModal());\n}\n\nexport function* watchItemUpdate() {\n  yield takeLatest('UPDATE_ITEM', itemUpdate);\n}\n\n// --------------------------------------------------------------------------------------------------------------------\n\n\nfunction* itemCreate() {\n  yield put(editItemClear());\n  yield put(toggleModal());\n}\n\nexport function* watchItemCreate() {\n  yield takeLatest('ITEM_CREATE', itemCreate);\n}\n\n// --------------------------------------------------------------------------------------------------------------------\n\n"]},"metadata":{},"sourceType":"module"}